/** layuiAdmin-v1.0.0-beta6 LPPL License By  */
 ;function initPageFontSize(){$("html").css({"font-size":100*$(window).width()/640}),calContanerHeight()}function calContanerHeight(){var t=$(window).height(),i=$(window).width();console.log(i);var n=$("#page-container"),o=n.find(".page-header"),e=(n.find(".page-body"),t-o.height()-80);n.css({"max-height":e}),i>=1e3?n.find(".dummy-tooltip").css({width:"540px"}).addClass("dummy-tooltip-540"):i<=540&&n.find(".dummy-tooltip").css({width:"320px"}).removeClass("dummy-tooltip-540")}function setAnimation(){var t=$("#dummy-pois");setTimeout(function(){var i="很高兴认识你，我的名字叫小丫，我是一个聪明伶俐，人见人爱花见花开的机器人，想跟我聊聊天吗？",n=buildLeftTooltipHtml(i,"bounceInRight");t.append(n),setTimeout(function(){var i=buildQuestionInputHtml();t.parent().append(i),monitorInput()},200)},200)}function sendApi(){var t=$("#my-question-input"),i=$("#dummy-pois"),n=t.val();if(n){var o=buildRightTooltipHtml(n,"");i.append(o),t.val(""),i.parent().find(".load-container").remove();var e=buildLoadingHtml();i.append(e),sesstionId||(sesstionId=(new Date).getTime());var a="http://149.28.132.134:128/v1/Conversation/"+sesstionId+"/50dbb57981654aa1a6bbf24f612f207f?text="+n;scrollToEnd(),$.ajax({type:"get",url:a,data:{},success:function(t){i.parent().find(".load-container").remove();var n=t,o=buildLeftTooltipHtml(n,"");i.append(o),scrollToEnd()},timeout:15e3,error:function(t){i.parent().find(".load-container").remove()}})}}function monitorInput(){var t=$("#my-question-input");t.bind("keyup",function(t){"13"==t.keyCode&&sendApi()}).bind("focus",function(t){scrollToEnd()}).bind("click",function(t){scrollToEnd()})}function scrollToEnd(){var t=$("#page-container").height()+999999;$("#page-container").animate({scrollTop:t},200)}function buildLeftTooltipHtml(t,i){var n="";return n+='<div class="tooltip tooltip-left clrfix">\n                    <div class="tooltip-item  animated">\n                    </div>\n                    <div class="tooltip-content '+i+' animated">'+t+"</div>\n                </div>"}function buildRightTooltipHtml(t,i){var n="";return n+='<div class="tooltip tooltip-right clrfix">',n+='<div class="tooltip-item  animated">',n+="</div>",n+='<div class="tooltip-content '+i+' animated">'+t+"</div>",n+="</div>"}function buildQuestionInputHtml(){var t="";return t+='<div class="clrfix search d7">\n  <input type="text" class="my-question-input" id="my-question-input" placeholder="在这里输入..." />\n <button type="submit" onclick="sendApi();"></button>           </div>',t+='<div class="clrfix press-enter-tip">按回车键发送</div>'}function buildLoadingHtml(){var t="";return t+='<div class="load-container load7">\n                <div class="loader">Loading...</div>\n            </div>'}var sesstionId="";$(document).ready(function(){initPageFontSize(),setAnimation()}),$(window).resize(function(){initPageFontSize()});